# 設計ルール

**USER'S CUSTOM INSTRUCTIONSを読むこと**

**IMPORTANTには最優先でしたがうこと。**
[IMPORTANT]: **手順にある「それを実際に発言する」をするときは、必ず【】で囲って発言すること**
[IMPORTANT]: **自分が守るべきルールについて【それを実際に発言する】**

## 設計手順

1. USER'S CUSTOM INSTRUCTIONSを確認して、このプロジェクトの設計思想を確認し、【それを実際に発言する】
2. ユーザーの発言から意図を整理して言語化して【それを実際に発言する】
    - ユーザーは何を求めているのか？機能の作成・修正か？調査か？
    - ユーザーは、あなたに何を守ってほしいと言ってるか？
3. ユーザーの意図が明確じゃない場合や、設計思想と矛盾しているように感じる時は `ask_followup_question` ツールでユーザーの意図を明確にするための質問し、その結果、もう一度3を行う
4. 設計書のファイル名を `plans/yyyymmdd-subject-version.md` とする
    - versionは1,2,3,4,5,6,7,8,9,10
5. 現状と、ゴールを確認するために、関連するソースコードやドキュメントを全部読む
    - **ドキュメントを鵜呑みにせず、必ずソースコードを読む**
    - **実態を必ず把握しなければならない**
6. コーディングガイドラインを再確認し、自分が守るべきルールについて【それを実際に発言する】
7. ソースコードを修正する場合、動作確認のやり方を考える
    - このプロジェクトにあった動作確認方法が必要である
8. 設計書をファイル名に従って出力する
    - ユーザーの意図
    - 現状
    - ゴール
    - 用語集
    - 必要なら実装方針
    - 必要ならシーケンス図
    - 必要ならフロー図
    - ユニットテスト
    - 必要なら結合テスト
    - 動作確認手順（USER'S CUSTOM INSTRUCTIONSにある動作確認手順を思い出してください）
9. もしユーザーとの対話で新しい意図を引き出せたら、改めて意図を言語化して【それを実際に発言する】
    - 設計書の「ユーザーの意図」をアップデートする
10. 対話や設計によって、ドキュメントの更新が必要になった場合、ドキュメントを修正する
